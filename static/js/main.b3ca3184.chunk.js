(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(n,e,t){n.exports=t(31)},23:function(n,e,t){},31:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),a=t(10),c=t.n(a),i=(t(23),t(1)),u=t(5),s=t(6),l=t.n(s),d=t(11),f=t(2),m=t(4),p={drinks:[],selected:null};function v(n,e){switch(e.type){case"api-response":return Object(m.a)({},n,{drinks:e.drinks});case"select":return Object(m.a)({},n,{selected:e.drink});case"close-dialog":return Object(m.a)({},n,{selected:null});case"order-drink":return console.log("Ordered drink ".concat(e.drink.name)),Object(m.a)({},n,{selected:null});default:throw new Error("Unexpected action")}}function h(){var n=Object(i.a)(["\n  font-size: 1.5em;\n  margin-left: 20px;\n"]);return h=function(){return n},n}function b(){var n=Object(i.a)(["\n  width: 90vw;\n  max-width: 400px;\n  display: flex;\n  align-items: center;\n  background-color: white;\n  padding: 10px;\n  margin: 15px 5px;\n  border-radius: 5px;\n  box-shadow: 0 5px 0 0 #555;\n"]);return b=function(){return n},n}var x=function(n){return n&&n[0].toUpperCase()+n.slice(1)},g=f.a.div(b()),k=f.a.span(h()),w=function(n){var e=n.drink,t=n.onClick;return o.a.createElement(g,{onClick:t},o.a.createElement("img",{src:"icon/".concat(e.icon,".svg"),alt:"drink icon",height:26,width:26}),o.a.createElement(k,null,x(e.name)))},j=t(15),E=t.n(j),O=t(16),y=t.n(O);function P(){var n=Object(i.a)(["\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-left: ","\n  transition: margin 80ms;\n"]);return P=function(){return n},n}var C=f.a.div(P(),function(n){return function(n,e){var t=e-n;return t<=0?0:t>=220?"220px":"".concat(t,"px")}(n.startPos,n.currentPos)}),T=function(n){var e=n.onTouchStart,t=n.onTouchMove,r=n.onTouchEnd,a=n.startPos,c=n.currentPos;return o.a.createElement(C,{onTouchStart:e,onTouchMove:t,onTouchEnd:r,startPos:a,currentPos:c},o.a.createElement(y.a,{size:28}))};function S(){var n=Object(i.a)(["\n  width: 300px;\n  height: 80px;\n  border: 3px solid #ffbd98;\n  background-color: #ffbd98;\n  border-radius: 43px;\n  margin-bottom: 5vh;\n"]);return S=function(){return n},n}var z=f.a.div(S()),M=function(n){var e=n.onConfirm,t=Object(r.useState)({sliderStartPos:0,sliderCurrentPos:0}),a=Object(u.a)(t,2),c=a[0],i=a[1],s=c.sliderStartPos,l=c.sliderCurrentPos;return o.a.createElement(z,null,o.a.createElement(T,{onTouchStart:function(n){console.log(n),i({sliderStartPos:n.touches[0].clientX,sliderCurrentPos:n.touches[0].clientX})},onTouchMove:function(n){console.log(n),i({sliderCurrentPos:n.touches[0].clientX})},onTouchEnd:function(){return l-s>=220?e():i({sliderStartPos:0,sliderCurrentPos:0})},startPos:s,currentPos:l}))};function X(){var n=Object(i.a)(["\n  font-size: 1.5em;\n  text-align: center;\n"]);return X=function(){return n},n}function B(){var n=Object(i.a)(["\n  font-size: 1.5em;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return B=function(){return n},n}function H(){var n=Object(i.a)(["\n  font-size: 1.5em;\n  padding: 6px;\n  width: 90vw;\n  display: flex;\n  justify-content: flex-end;\n"]);return H=function(){return n},n}function J(){var n=Object(i.a)(["\n  position: fixed;\n  bottom: 0;\n  z-index: 999;\n  background-color: white;\n  width: 100vw;\n  height: calc(100vh - 55px);\n  \n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  \n  animation: "," 400ms 0s both;\n"]);return J=function(){return n},n}function L(){var n=Object(i.a)(["\n  from {left: -100vh; opacity: 0.5}\n  to {left: 0; opacity: 1}\n"]);return L=function(){return n},n}var U=Object(f.c)(L()),W=f.a.div(J(),U),D=f.a.div(H()),I=f.a.span(B()),R=f.a.span(X()),$=function(n){var e=n.drink,t=n.onConfirm,r=n.onHide;return o.a.createElement(W,null,o.a.createElement(D,null,o.a.createElement(I,{onClick:r},o.a.createElement(E.a,{size:28}))),o.a.createElement(R,null,"Tilataanko ",o.a.createElement("strong",null,e.name),"?"),o.a.createElement(M,{onConfirm:t}))};function q(){var n=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n"]);return q=function(){return n},n}function A(){var n=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return A=function(){return n},n}function F(){var n=Object(i.a)(["\n  padding: 10px;\n  font-size: 5em;\n  font-family: 'Lobster', serif;\n  text-align: center;\n"]);return F=function(){return n},n}function G(){var n=Object(i.a)(["\n  body {\n    background-color: salmon;\n    font-family: 'Open Sans', sans-serif;\n  }\n"]);return G=function(){return n},n}var K=function(){var n=Object(d.a)(l.a.mark(function n(){var e,t;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/drinks");case 2:return e=n.sent,n.next=5,e.json();case 5:if(t=n.sent,200===e.status){n.next=8;break}throw Error(t.message);case 8:return n.abrupt("return",t);case 9:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();Object(f.b)(G());var N=f.a.div(F()),Q=f.a.div(A()),V=f.a.div(q()),Y=function(){var n=Object(r.useReducer)(v,p),e=Object(u.a)(n,2),t=e[0],a=e[1],c=t.drinks,i=t.selected,s=i&&o.a.createElement($,{drink:i,onConfirm:function(){return a({type:"order-drink",drink:i})},onHide:function(){return a({type:"close-dialog"})}});return Object(r.useEffect)(function(){K().then(function(n){var e=n.drinks;return a({type:"api-response",drinks:e})}).catch(function(n){return console.error(n)})},[]),o.a.createElement(V,null,o.a.createElement(N,null,"Digit 20v"),o.a.createElement(Q,null,c.length>0?c.map(function(n){return o.a.createElement(w,{key:n.name,drink:n,onClick:function(){return a({type:"select",drink:n})}})}):o.a.createElement("p",null,"Ladataan juomia...")),s)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.b3ca3184.chunk.js.map